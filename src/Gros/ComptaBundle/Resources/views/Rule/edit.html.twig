{% extends "GrosComptaBundle::layoutsettings.html.twig" %}

{% block title %}
    Edit Parsing Rule - {{ parent() }}
{% endblock %}

{% block sub_title %}
    Edit Parsing Rule
{% endblock %}

{% form_theme edit_form with 'GrosComptaBundle:Settings:fields.html.twig' %}

{% block groscompta_body %}

<form class="form-horizontal" action="{{ path('rule_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>

    <h4>Condition</h4>
    {{ form_row(edit_form.regex) }}
    {{ form_row(edit_form.priority) }}

    <h4>Action</h4>
    {{ form_row(edit_form.shop) }}
    {{ form_row(edit_form.category) }}
    {{ form_row(edit_form.shopper) }}
    {{ form_row(edit_form.description) }}
    {{ form_row(edit_form._token) }}

</form>

<ul class="unstyled">
    <li style="float:left; margin-right:10px">
        <a class="btn btn-primary" onclick="$('#edit_form').submit()">
            Save
        </a>
    </li>
    <li style="float:left; margin-right:10px">
        <a class="btn" href="{{ path('rule') }}">
            Back to the list
        </a>
    </li>
    <li style="float:right">
        <form action="{{ path('rule_delete', { 'id': entity.id }) }}" method="post" >
            {{ form_widget(delete_form) }}
            <button class="btn btn-danger" type="submit">Delete</button>
        </form>
    </li>
</ul>

{% endblock %}
